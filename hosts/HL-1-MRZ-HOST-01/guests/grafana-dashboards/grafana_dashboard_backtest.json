{
  "annotations": { "list": [] },
  "description": "SeekingEdge Backtest Results â€” Summary stats and position history (time-series in HTML report)",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": null,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 0 },
      "id": 100,
      "title": "Summary",
      "type": "row"
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "green", "value": 0 }
            ]
          },
          "unit": "currencyUSD"
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 0, "y": 1 },
      "id": 1,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Net Profit",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_final_equity{job=\"$job\"}[30d]) - last_over_time(backtest_initial_capital{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "green", "value": 0 }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 4, "y": 1 },
      "id": 2,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Total Return",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_total_return{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "orange", "value": 0.1 },
              { "color": "red", "value": 0.2 }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 8, "y": 1 },
      "id": 3,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Max Drawdown",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_max_drawdown{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "yellow", "value": 0.4 },
              { "color": "green", "value": 0.5 }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 12, "y": 1 },
      "id": 4,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Win Rate",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_win_rate{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "green", "value": 1 }
            ]
          },
          "unit": "short",
          "decimals": 0
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 16, "y": 1 },
      "id": 5,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Total Trades",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(trades_executed_total{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "green", "value": 1 }
            ]
          },
          "unit": "currencyUSD"
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 20, "y": 1 },
      "id": 6,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Final Equity",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_final_equity{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "green", "value": 1 }
            ]
          },
          "decimals": 2
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 0, "y": 5 },
      "id": 50,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Profit Factor",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_profit_factor{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "yellow", "value": 0 },
              { "color": "green", "value": 1 }
            ]
          },
          "decimals": 3
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 4, "y": 5 },
      "id": 51,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Sharpe Ratio",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_sharpe_ratio{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "yellow", "value": 0 },
              { "color": "green", "value": 1 }
            ]
          },
          "decimals": 3
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 8, "y": 5 },
      "id": 52,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Sortino Ratio",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_sortino_ratio{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "yellow", "value": 0 },
              { "color": "green", "value": 1 }
            ]
          },
          "decimals": 3
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 12, "y": 5 },
      "id": 56,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Calmar Ratio",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_calmar_ratio{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [{ "color": "green", "value": null }]
          },
          "unit": "currencyUSD",
          "decimals": 2
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 16, "y": 5 },
      "id": 53,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Avg Win",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_avg_win{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "mode": "absolute",
            "steps": [{ "color": "red", "value": null }]
          },
          "unit": "currencyUSD",
          "decimals": 2
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 4, "x": 20, "y": 5 },
      "id": 54,
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "reduceOptions": { "calcs": ["lastNotNull"] }
      },
      "title": "Avg Loss",
      "type": "stat",
      "targets": [
        {
          "expr": "last_over_time(backtest_avg_loss{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A"
        }
      ]
    },
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 9 },
      "id": 104,
      "title": "Position History",
      "type": "row"
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "fieldConfig": {
        "defaults": {},
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "position_id" },
            "properties": [
              { "id": "custom.width", "value": 50 },
              { "id": "displayName", "value": "#" }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "side" },
            "properties": [
              { "id": "custom.width", "value": 65 },
              { "id": "displayName", "value": "Side" }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "ts_opened" },
            "properties": [
              { "id": "displayName", "value": "Opened" },
              { "id": "custom.width", "value": 90 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "quantity" },
            "properties": [
              { "id": "displayName", "value": "Qty" },
              { "id": "custom.width", "value": 55 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "entry_price" },
            "properties": [
              { "id": "displayName", "value": "Entry Px" },
              { "id": "custom.width", "value": 95 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "exit_price" },
            "properties": [
              { "id": "displayName", "value": "Exit Px" },
              { "id": "custom.width", "value": 95 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "realized_pnl" },
            "properties": [
              { "id": "displayName", "value": "P&L" },
              { "id": "custom.width", "value": 95 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "realized_return" },
            "properties": [
              { "id": "displayName", "value": "Return %" },
              { "id": "custom.width", "value": 85 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "commission" },
            "properties": [
              { "id": "displayName", "value": "Commission" },
              { "id": "custom.width", "value": 95 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "slippage" },
            "properties": [
              { "id": "displayName", "value": "Slippage" },
              { "id": "custom.width", "value": 85 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "duration" },
            "properties": [
              { "id": "displayName", "value": "Duration" },
              { "id": "custom.width", "value": 90 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "Time" },
            "properties": [{ "id": "custom.hidden", "value": true }]
          }
        ]
      },
      "gridPos": { "h": 16, "w": 24, "x": 0, "y": 10 },
      "id": 30,
      "options": {
        "showHeader": true,
        "sortBy": [{ "desc": false, "displayName": "#" }]
      },
      "title": "Position History",
      "type": "table",
      "targets": [
        {
          "expr": "last_over_time(trade_info{job=\"$job\"}[30d])",
          "legendFormat": "",
          "refId": "A",
          "instant": true,
          "format": "table"
        }
      ],
      "transformations": [
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "__name__": true,
              "job": true,
              "Value": true,
              "instrument_id": true,
              "strategy_id": true,
              "entry": true
            },
            "indexByName": {
              "position_id": 0,
              "side": 1,
              "ts_opened": 2,
              "quantity": 3,
              "entry_price": 4,
              "exit_price": 5,
              "realized_pnl": 6,
              "realized_return": 7,
              "commission": 8,
              "slippage": 9,
              "duration": 10
            }
          }
        }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "$datasource" },
      "gridPos": { "h": 3, "w": 24, "x": 0, "y": 26 },
      "id": 200,
      "options": {
        "content": "**Note:** Equity curve and detailed time-series charts are available in the HTML report (`reports/{job_name}.html`). This dashboard shows summary metrics from the latest backtest run only.",
        "mode": "markdown"
      },
      "title": "",
      "transparent": true,
      "type": "text"
    }
  ],
  "schemaVersion": 39,
  "tags": ["backtest", "seeking-edge", "trading"],
  "templating": {
    "list": [
      {
        "current": {},
        "name": "datasource",
        "label": "Datasource",
        "query": "prometheus",
        "refresh": 1,
        "type": "datasource"
      },
      {
        "current": {
          "selected": true,
          "text": "AMD_ORB_2025",
          "value": "AMD_ORB_2025"
        },
        "datasource": { "type": "prometheus", "uid": "$datasource" },
        "definition": "label_values(trades_executed_total, job)",
        "name": "job",
        "label": "Backtest Job",
        "query": {
          "qryType": 1,
          "query": "label_values(trades_executed_total, job)"
        },
        "refresh": 1,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-30d",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "America/New_York",
  "title": "SeekingEdge Backtest Dashboard",
  "uid": "seeking-edge-backtest",
  "version": 2
}
